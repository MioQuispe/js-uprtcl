(window.webpackJsonp=window.webpackJsonp||[]).push([[17],{251:function(t,e,a){"use strict";a.r(e);var s=a(28),n=Object(s.a)({},(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"installing-the-microorchestrator"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#installing-the-microorchestrator"}},[t._v("#")]),t._v(" Installing the MicroOrchestrator")]),t._v(" "),a("p",[t._v("The "),a("a",{attrs:{href:"https://github.com/uprtcl/js-uprtcl/tree/develop/packages/cortex",target:"_blank",rel:"noopener noreferrer"}},[a("code",[t._v("MicroOrchestrator")]),a("OutboundLink")],1),t._v(" is the base point of any application built with the "),a("code",[t._v("_Prtcl")]),t._v(" infrastructure. It's the base package that provides modules loading, dependency injection and deduplication of common module dependencies.")]),t._v(" "),a("h2",{attrs:{id:"installation"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#installation"}},[t._v("#")]),t._v(" Installation")]),t._v(" "),a("p",[t._v("To include the "),a("code",[t._v("micro-orchestrator")]),t._v(" in your webapp, just install it with "),a("code",[t._v("npm")]),t._v(":")]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("npm")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("install")]),t._v(" @uprtcl/micro-orchestrator\n")])])]),a("h2",{attrs:{id:"usage"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#usage"}},[t._v("#")]),t._v(" Usage")]),t._v(" "),a("p",[t._v("It is recommended that your have only one instance of the "),a("code",[t._v("micro-orchestrator")]),t._v(". This follows the "),a("em",[t._v("Composition Root pattern")]),t._v(", in which you declare all modules and functionalities that your application will have only in one file and have that file as close to the root of your application as possible.")]),t._v(" "),a("p",[t._v("This avoids having multiple places in which modules are loaded and imported, which can make it difficult to reason about all your dependencies.")]),t._v(" "),a("p",[t._v("Import the "),a("code",[t._v("micro-orchestrator")]),t._v(" and instantiate it:")]),t._v(" "),a("div",{staticClass:"language-ts extra-class"},[a("pre",{pre:!0,attrs:{class:"language-ts"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" MicroOrchestrator "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'@uprtcl/micro-orchestrator'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" orchestrator "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("MicroOrchestrator")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),a("p",[t._v("Part of what the "),a("code",[t._v("micro-orchestrator")]),t._v(" will do is contain and inject all the dependencies included in your modules. To achieve this, it uses "),a("a",{attrs:{href:"https://github.com/inversify/InversifyJS",target:"_blank",rel:"noopener noreferrer"}},[t._v("InversifyJS"),a("OutboundLink")],1),t._v(" underneath. To access the "),a("code",[t._v("InversifyJS")]),t._v(" container directly:")]),t._v(" "),a("div",{staticClass:"language-ts extra-class"},[a("pre",{pre:!0,attrs:{class:"language-ts"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" container "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" orchestrator"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("container"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Here we have access to inversify container API")]),t._v("\n")])])]),a("p",[t._v("To prepare the dynamic dependency for elements in the HTML page, include the "),a("code",[t._v("<module-container>")]),t._v(" custom element as the top element in your application:")]),t._v(" "),a("div",{staticClass:"language-html extra-class"},[a("pre",{pre:!0,attrs:{class:"language-html"}},[a("code",[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("body")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("module-container")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("\x3c!-- The rest of the application goes here  --\x3e")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("module-container")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("body")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])])]),a("p",[t._v("This element does not produce any HTML by itself. It's only waiting for the native DOM event "),a("code",[t._v("RequestDependencyEvent")]),t._v(", and will ask for the requested dependencies to the inversify container and make them available to the element.")])])}),[],!1,null,null,null);e.default=n.exports}}]);